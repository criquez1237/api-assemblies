meta {
  name: Create Products Batch - Empty List Error
  type: http
  seq: 12
}

post {
  url: {{baseUrl}}/v1/products/upsert/batch
  body: json
  auth: bearer
}

auth:bearer {
  token: {{adminToken}}
}

body:json {
  {
    "products": []
  }
}

tests {
  test("Response status is 400 for empty list", function() {
    expect(res.getStatus()).to.equal(400);
  });
  
  test("Error message indicates at least one product required", function() {
    expect(res.getBody()).to.have.property('success');
    expect(res.getBody().success).to.equal('true');
    expect(res.getBody().message).to.contain('Error');
    expect(res.getBody().message).to.contain('Se requiere al menos un producto');
  });
}
